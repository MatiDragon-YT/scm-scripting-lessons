Актёры и команды, свойственны им. Команды  для игрока|В этом уроке мы рассмотрим команды, которые будут влиять на актёров и игрока.|wmysterio|wmysterio||||Естественно от одного созданного актёра пользы не будет, так как он будет стоять. Все команды можно разделить на 2 большие группы: условные ( опкоды, назначены для проверок ) и безусловные. Начнём с самых простых:

<table class="table table-striped table-bordered"><tbody>
<tr><th class="text-center">Безусловные</th></tr>
<tr><td>Actor.Health($Actor) = 1000</td></tr>
<tr><td>устанавливает кол-во жизни у актёра</td></tr>
<tr><td>Actor.Armour($Actor) = 150</td></tr>
<tr><td>устанавливает кол-во брони актёра</td></tr>
<tr><td>Actor.Angle($Actor) = 250.24</td></tr>
<tr><td>устанавливает угол поворота актёра</td></tr>
<tr><td>actor.RemoveReferences($ACTOR)</td></tr>
<tr><td>стирает все сведения о актёре. другими словами - актёр нам больше не нужен и игра уже будет сама решать что ему делать</td></tr>
<tr><td>actor.DestroyInstantly($Actor)</td></tr>
<tr><td>уничтожает созданного ранее актёра</td></tr>
<tr><td>actor.PutAt($Actor, 1234.0, -189.0, 36.0)</td></tr>
<tr><td>перемещает актёра в заданные координаты</td></tr>
<tr><td>05D4: AS_actor $Actor rotate_angle 175.8</td></tr>
<tr><td>актёр повернётся на заданный угол ( в отличии от Actor.Angle мы сможем увидеть как он будет поворачиваться )</td></tr>
<tr><td>0672: AS_actor $Actor attack_car $Car</td></tr>
<tr><td>актёр будет атаковать заданную машину</td></tr>
<tr><td>0850: AS_actor $Actor follow_actor $Actor2</td></tr>
<tr><td>актёр1 будет следовать за актёром2</td></tr>
<tr><td>04EB: AS_actor $Actor crouch 1</td></tr>
<tr><td>заставляет актёра присесть, если поставить 0, то заставляет актёра встать.</td></tr>
<tr><td>0332: set_actor $Actor bleeding_to 1</td></tr>
<tr><td>заставляет актёра истекать кровью</td></tr>
<tr><td>03FE: set actor $Actor money 0</td></tr>
<tr><td>устанавливает актёру кол-во денег</td></tr>
<tr><td>05CD: AS_actor $Actor exit_car $Car</td></tr>
<tr><td>заставляет актёра выйти с заданной машины</td></tr>
<tr><td>Actor.WeaponAccuracy($Actor) = 95</td></tr>
<tr><td>устанавливает актёру точность стрельбы</td></tr>
<tr><td>05E2: actor $Actor1 kill_actor $Actor2</td></tr>
<tr><td>заставляет актёра1 убивать актёра2</td></tr>
<tr><td>0639: AS_actor $Actor1 rotate_to_actor $Actor2</td></tr>
<tr><td>заставляет актёра1 повернуться лицом к актёру2</td></tr>
<tr><td>0729: AS_actor $Actor hold_cellphone 1</td></tr>
<tr><td>заставляет актёра взять телефон и приложить его к уху, если поставить 0, то актёр положит телефон обратно в карман ( учтите, что бы было видно телефон нужно загрузить модель #CELLPHONE, а потом использовать этот опкод )</td></tr>
<tr><td>0321: kill_actor $Actor</td></tr>
<tr><td>убить актёра</td></tr>
<tr><td>05BC: AS_actor $Actor jump 0</td></tr>
<tr><td>заставляет пригнуть актёра ( 0 - стиль прыжка, так его и оставляйте, так как ничего особого не поменяется )</td></tr>
<tr><td>actor.SetImmunities($Actor, 1, 1, 1, 1, 1)</td></tr>
<tr><td>устанавливает актёру иммунитеты к ударам, взрывам и прочего.</td></tr>
<tr><td>07FE: set_actor $Actor fighting_style_to 5 6</td></tr>
<tr><td>устанавливает актёру определённый стиль драки</td></tr>
<tr><td>08C6: set_actor $Actor stay_on_bike 1</td></tr>
<tr><td>актёр не сможет упасть с байка, если поставить 0 - то сможет</td></tr>
<tr><td>06B0: AS_actor $Actor sit_down 5000 ms</td></tr>
<tr><td>заставляет актёра сидеть 5 секунд ( 1000 ms = 1 сек. )</td></tr>
<tr><td>05BA: AS_actor $Actor chew_gum 5000 ms</td></tr>
<tr><td>заставляет актёра жевать жвачку 5 секунд ( 1000 ms = 1 сек. ), но иногда не срабатывает</td></tr>
<tr><td>0245: set_actor $Actor walk_style_to "FATMAN"</td></tr>
<tr><td>устанавливает актёру определённый стиль походки. Я нашел только эти стили:

<table class="table table-bordered"><tbody>
<tr><th>Стиль</th><th>Описание</th></tr>
<tr><td>"FATMAN"</td><td>толстяк</td></tr>
<tr><td>"GANG1"</td><td>гангстер 1</td></tr>
<tr><td>"GANG2"</td><td>гангстер 2</td></tr>
<tr><td>"MAN"</td><td>мужчина</td></tr>
<tr><td>"WOMAN"</td><td>женщина</td></tr>
<tr><td>"BLINDMAN"</td><td>слепой мужчина</td></tr>
<tr><td>"SEXYWOMAN"</td><td>сексуальная женщина</td></tr>
<tr><td>"DRUNKMAN"</td><td>алкаш</td></tr>
<tr><td>"PLAYER"</td><td>стиль игрока ( СЖ ), но я не тестировал этот стиль</td></tr>
</tbody></table>

</td></tr>
<tr><td>0446: set_actor $Actor immune_to_headshots 0</td></tr>
<tr><td>устанавливает актёру иммунитет от хеадшотов ( выстрелов в голову ), если поставить 1 - то, как уже догадались, прострелить голову будет нельзя</td></tr>
</tbody></table>

Вот список условных опкодов, то есть тех, которые должны использоваться в блоке "if"

<table class="table table-striped table-bordered"><tbody>
<tr><th class="text-center">Условные</th></tr>
<tr><td>0965: actor $Actor swimming_in_water</td></tr>
<tr><td>проверка: находится актёр в воде?</td></tr>
<tr><td>06EE: actor $Actor in_group $Player_Group</td></tr>
<tr><td>проверка: находится актёр в группе $Player_Group?</td></tr>
<tr><td>actor.InCar($PLAYER_ACTOR, $Car)</td></tr>
<tr><td>проверка: находится актёр в заданной машине?</td></tr>
<tr><td>actor.Driving($PLAYER_ACTOR)</td></tr>
<tr><td>проверка: сидит актёр за рулём(или в транспорте)?</td></tr>
<tr><td>actor.DrivingPoliceVehicle($PLAYER_ACTOR)</td></tr>
<tr><td>проверка: сидит актёр за рулём полицейского транспорта?</td></tr>
<tr><td>actor.DrivingTaxiVehicle($PLAYER_ACTOR)</td></tr>
<tr><td>проверка: актёр сидит за рулём в такси?</td></tr>
<tr><td>04A7: actor $PLAYER_ACTOR driving_boat</td></tr>
<tr><td>проверка: актёр сидит за рулём(штурвалом) лодки?</td></tr>
<tr><td>actor.DrivingVehicleType($ACTOR, #CAR_MODEl)</td></tr>
<tr><td>проверка: модель машины актёра равна #CAR_MODEl?</td></tr>
<tr><td>actor.Dead($PLAYER_ACTOR)</td></tr>
<tr><td>проверка: актёр умер?</td></tr>
<tr><td>actor.Stopped($PLAYER_ACTOR)</td></tr>
<tr><td>проверка: актёр остановился(не бежит)?</td></tr>
<tr><td>04C5: actor $PLAYER_ACTOR photographed</td></tr>
<tr><td>проверка: актёр фотографирует?</td></tr>
<tr><td>056D: actor $ACTOR defined</td></tr>
<tr><td>проверка: существует ли актёр?</td></tr>
</tbody></table>

Эти опкоды можно использовать со всеми актёрами, в том числе СЖ. Однако есть опкоды, которые свойственны только игроку. Рассмотрим некоторые с них:

<table class="table table-striped table-bordered"><tbody>
<tr><th class="text-center">Безусловные</th></tr>
<tr><td>052C: set_player $PLAYER_CHAR drunk_visuals 100</td></tr>
<tr><td>заставляет экран шататься, как будто игрок пьян (100 - сила шатания, не советую делать очень большие цифры, иначе шатание превратится в мерцание)</td></tr>
<tr><td>player.CanMove($PLAYER_CHAR) = false</td></tr>
<tr><td>вы не сможете ничего делать. Если поставить true, то сможете. Очень часто используется, особенно при видеороликах.</td></tr>
<tr><td>player.ClearWantedLevel($PLAYER_CHAR)</td></tr>
<tr><td>очищает уровень розыска</td></tr>
<tr><td>player.Money($PLAYER_CHAR) += 1000</td></tr>
<tr><td>прибавляет игроку 1000 денег</td></tr>
<tr><td>0998: add respect 5</td></tr>
<tr><td>прибавляет игроку респект ( уважение )</td></tr>
<tr><td>0992: set_player $PLAYER_CHAR weapons_scrollable 1</td></tr>
<tr><td>даёт игроку возможность менять оружие, которое у него в руках. Если поставить 0 то вы не сможете менять ( как бы замораживает его в руке )</td></tr>
</tbody></table>

<table class="table table-striped table-bordered"><tbody>
<tr><th class="text-center">Условные</th></tr>
<tr><td>Player.Defined($PLAYER_CHAR)</td></tr>
<tr><td>проверка: игрок существует?</td></tr>
<tr><td>player.PressingHorn($PLAYER_CHAR)</td></tr>
<tr><td>проверка: игрок сигналит? Что бы сработала эта проверка нужно находится в транспорте и нажать "Сигнал"</td></tr>
<tr><td>wasted_or_busted</td></tr>
<tr><td>проверка: игрок пойман или арестован? Использовать только в миссиях!!!</td></tr>
<tr><td>Player.Controllable($PLAYER_CHAR)</td></tr>
<tr><td>проверка: игрок контролируем?</td></tr>
<tr><td>0457: player $PLAYER_CHAR aiming_at_actor $Actor</td></tr>
<tr><td>проверка: игрок целится в актёра?</td></tr>
<tr><td>Player.WantedLevel($PLAYER_CHAR) > 0</td></tr>
<tr><td>проверка: уровень розыска игрока больше нуля? Максимальный уровень розыска может быть 6 и не более.</td></tr>
</tbody></table>

Это только самые распространённые команды в скрипте. Есть очень большое количество опкодов и по мере изучения скриптинга в целом мы будем изучать новые и новые опкоды.

Стоит также расказать о разнице между "$PLAYER_ACTOR" и "$PLAYER_CHAR". Новички часто путают эти переменные и используют их не там, где нужно. Если в описании опкода есть слово "actor", то в тотальном большинстве случаев нужно использовать "$PLAYER_ACTOR". Если в опкоде есть слово "player", то нужно использовать "$PLAYER_CHAR".|2652|1|0||aktjory|1498735550