Работа с гаражами|В этом уроке мы будем работать с гаражами.|wmysterio|wmysterio||||Всем привет! Ещё один материал, который относится к курсу &quot;базовый&quot;, я что то забыл о них =) Ну, ничего страшного, выложу в курсе "Продвинутый". Думаю нет смысла объяснять что такое гараж, по этому перейдём сразу к делу.

Для начала рассмотрим типы гаражей. Всего их восемь. Вот таблица типов:

<table class="table table-bordered"><tbody>
<tr><td colspan="2" class="text-center">Таблица 1.</td></td></tr>
<tr><th>Тип</th><th>Описание</th></tr>
<tr><td>1</td><td>Заготовка для гаража ( не открывается ).</td></tr>
<tr><td>2</td><td>8-ball ( бомба, которая взрывается через некоторое время, после зарядки ).</td></tr>
<tr><td>3</td><td>8-ball ( бомба, которая взрывается, если кто-то сядет в машину).</td></tr>
<tr><td>4</td><td>8-ball ( бомба на радиоуправлении ).</td></tr>
<tr><td>5</td><td>Перекраска.</td></tr>
<tr><td>32</td><td>Обыкновенный гараж на 4 машины.</td></tr>
<tr><td>33</td><td>Гараж с дверью, сквозь которую можно передвигаться :)</td></tr>
<tr><td>38</td><td>Гараж, который не закрывается, если в нём есть машина.</td></tr>
</tbody></table>

Все остальные скорее всего повторяются или не работают. Каждый гараж в игре имеет свой ID или, правильнее, название. Подробно о них вы можете посмотреть в нашей <a href="/dir/gta_sa/gta_san_andreas_nazvanija_garazhej/1-1-0-24">базе данных</a>. Рассмотрим опкоды для работы с гаражами:


```

0299: activate_garage 'VECMOD'
02B9: deactivate_garage 'VECMOD'
```



Опкоды активируют и деактивируют гараж с названием "VECMOD".


```

0360: open_garage 'VECMOD'
0361: close_garage 'VECMOD'
```



Опкоды открывают или закрывают гараж "VECMOD".


```

03B0: garage 'VECMOD' door_open
03B1: garage 'VECMOD' door_closed
```



Проверки для гаража "VECMOD": **03B0** - "Гараж открыт?", **03B1** - "Гараж закрыт?". Не понимаю только зачем было два опкода, ведь опкод "83B0" аналогичный опкоду "03B1".


```

02FA: set_garage 'VECMOD' type 5
```



Опкод задаёт гаражу "VECMOD" тип, тип смотрите в таблице 1.


```

021B: set_garage 'VECMOD' to_accept_only_car #MANANA
```



Гараж "VECMOD" будет принимать только автомобиль с моделью #MANANA.

Давайте напишем простой скрипт, который запрещает перекраску автомобиля в районе Аилдвуда:


```

{$CLEO}
0000:

:NAME
thread 'NAME'
wait 0
Garage.Close('SPRLAE')
Garage.Deactivate('SPRLAE')
0A93: end_custom_thread
```



Для начала нужно закрыть гараж, что бы не было возможности заезжать туда. Так как если деактивировать его и не закрыть, то перекраска осуществится, но выехать с гаража не получится. Результат не заставил себя долго ждать:

<!--IMG1--><img src="https://github.com/wmysterio/scm-scripting-lessons/raw/resources/_pu/1/46914387.jpg" /><!--IMG1-->

Давайте изменим тип гаража. Что бы в место перекраски, нам ставили бомбу:


```

{$CLEO}
0000:

:NAME
thread 'NAME'
wait 0
garage.ChangeType('SPRLAE', 2)
0A93: end_custom_thread
```



Думаю, с этого краткого урока Вы сделали для себя полезные выводы и можете использовать гаражи для своих миссий или скриптов.|1288|1|0|46914387`jpg`500`300`400`240``\||rabota_s_garazhami|1503135012