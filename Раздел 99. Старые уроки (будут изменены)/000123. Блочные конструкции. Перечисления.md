Блочные конструкции. Перечисления||wmysterio|wmysterio|wmysterio@yandex.ru|||Всем привет! Мы немного уйдёт от темы скриптинга GTA 4 и немного поговорим о c# как язык программирования. Этот урок я хотел бы посвятить перечислениям. Они же <font color="#0000ff">**enum**</font>. Эта конструкция являет собой сборку данных, как правило одного типа. Объявляются они следующим образом:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: rgb(0, 191, 255); letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">enum</font> День {<br>&nbsp;/*<br>&nbsp;&nbsp;&nbsp;&nbsp; строки перечисления<br>*/<br>}<br></td></tr></tbody></table>Каждый элемент может иметь своё значение, причём тип данных не указывается. Мы можем хранить строку одного типа, а другая может быть вовсе другой. Между этими строками ставится запятая. Вот неплохой пример:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: rgb(0, 191, 255); letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">enum</font> День {<br>&nbsp;&nbsp;&nbsp;&nbsp; Понедельник = 0,<br>&nbsp;&nbsp;&nbsp;&nbsp; Вторник = 1,<br>&nbsp;&nbsp;&nbsp;&nbsp; Среда = 2,<br>&nbsp;&nbsp;&nbsp;&nbsp; Четверг = 3,<br>&nbsp;&nbsp;&nbsp;&nbsp; Пятница = 4,<br>&nbsp;&nbsp;&nbsp;&nbsp; Суббота = 5,<br>&nbsp;&nbsp;&nbsp;&nbsp; Восресенье = 6<br>}</td></tr></tbody></table>Обращение к элементам перечисления такое же, как и у структуры:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: rgb(0, 191, 255); letter-spacing: 0px; word-spacing: 0px;"><font color="#6b8e23">**День**</font>.<font color="#0000ff">Пятница</font><br></td></tr></tbody></table>Но главное отличие от структуры в том, что мы можем явно указывать значение в конструкции, но не можем этого сделать в теле программы. Это можно сравнить с константами - мы жестко закрепляем значение перечисления в блоке и можем только прочитать данные, что в нём находятся. Ещё отличается перечисление от структуры тем, что мы можем указывать в качестве значения только следующие типы данных:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: rgb(0, 191, 255); letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">byte</font>, <font color="#0000ff">sbyte</font>, <font color="#0000ff">short</font>, <font color="#0000ff">ushort</font>, <font color="#0000ff">int</font>, <font color="#0000ff">uint</font>, <font color="#0000ff">long</font> или <font color="#0000ff">ulong</font><br></td></tr></tbody></table>То есть нельзя указать класс, структуру, массив или ещё какой-то тип данных, но для этого перечисления не созданы. Возникает вопрос - "Как распознать перечисление от той же структуры?" Распознать очень легко. Если вы пользуетесь редакторами типа Visual Studio, то это не составит труда. Как правило обозначаются перечисления следующим значком:<br><!--IMG1--><img alt="" src="/_pu/1/39559150.png" /><!--IMG1--><br>Каким-же образом получить данные? Так как Enum вмещает произвольные данные, то нам необходимо преобразовать значение под нужный тип. Делается это по следующей формуле:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: rgb(0, 191, 255); letter-spacing: 0px; word-spacing: 0px;">Тип Переменная = (Тип)Выражение;<br></td></tr></tbody></table>В нашем случаи это так:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: rgb(0, 191, 255); letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">int</font> i = (<font color="#0000ff">int</font>)<font color="#808000">**День**</font>.**Вторник**;<br></td></tr></tbody></table>Выражение в скобках указывает **<u>в</u>** кокой тип данных будет идти преобразование. После скобки "<font color="#0000ff">**)**</font>" указываем <u>**что конкретно**</u> мы будем преобразовать. Такое преобразование следует делать только в том случаи, если вы наверняка знаете какой тип находится в поле перечисления<br><br><font color="#ff4500"><font color="#ff0000">Важно!</font> </font>Как правило имя перечисления и его поля задают латинскими символами. У меня получилось скомпилировать код с кирилицей, но всё же лучше перестраховаться.|496|1|0|39559150`png`19`20\||blochnye_konstrukcii_perechislenija|1392798790