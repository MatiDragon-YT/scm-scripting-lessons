Блочные конструкции. Оператор управдения swith||wmysterio|wmysterio|wmysterio@yandex.ru|/||Всем привет! Мы продолжаем изучать блочные конструкции C#. И на этот раз мы поговорим о <font color="#0000ff">switch</font> - управляющем операторе. Суть этой конструкции в том, чтобы выполнять нужный код в зависимости от переданного в него параметров. Сама конструкция выглядит следующим образом:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">switch</font> (Выражение) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Код1....<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Код2....<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Код3....<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Код4....<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; КодN....<br>}<br></td></tr></tbody></table>Что бы конструкция обрабатывала нужный код, нам нужно указать возможный вариант с помощью оператора <font color="#0000ff">case</font>:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">case</font> Выражение1:<br>&nbsp;&nbsp;&nbsp;&nbsp; Код выполения1;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;<br></td></tr></tbody></table>Оператор <font color="#0000ff">break</font> ставить обязательно, что бы код мог продолжаться после выполнения действий в <font color="#0000ff">case</font>, то есть выйти с конструкции. Выполнятся код будет тот, если Выражение будет равно Выражение1. Если оно не будет равно, то будет сравнение Выражение следующего <font color="#0000ff">case</font>. И так до тех пор, пока не будет выполнено одно из условий. Если ни один вариант не подошел, то, как правило указывают ещё один оператор - <font color="#0000ff">default</font>, то есть код, выполняемый по умолчанию:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">default </font>:<br>&nbsp;&nbsp;&nbsp;&nbsp; Код выполения1;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;</td></tr></tbody></table>Вот вам простой пример:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">int</font> CS = 8;<br><br><font color="#0000ff">switch</font> ( CS ) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">case</font> 1:<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; CS *= 2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">&nbsp;&nbsp;&nbsp;&nbsp; break</font>;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">case</font> 2:<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; CS /= 2;<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">case</font> 3:<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; CS += 2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">case</font> 4:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CS -= 2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <font color="#0000ff">break</font>;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">default</font>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; CS = 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;<br>}<br></td></tr></tbody></table>Эту конструкцию можно заменить следующим кодом, который для вас будет более понятен:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">int</font> CS = 8;<br>if (CS == 1) {<br>&nbsp;&nbsp;&nbsp;&nbsp; CS *= 2;<br>} else if (CS == 2) {<br>&nbsp;&nbsp;&nbsp;&nbsp; CS /= 2;<br>} else if (CS == 3) {<br>&nbsp;&nbsp;&nbsp;&nbsp; CS += 2;<br>} else if (CS == 4) {<br>&nbsp;&nbsp;&nbsp;&nbsp; CS -= 2;<br>} else {<br>&nbsp;&nbsp;&nbsp;&nbsp; CS = 0;<br>}</td></tr></tbody></table>Но есть одно "Но" <img src="http://s49.ucoz.net/sm/15/smile.gif" alt="smile" align="absmiddle" border="0"> В операторе свитч(<font color="#0000ff">switch</font>) существует такое понятие как "проваливание". Если Выражение свитча будет равно кейсу(<font color="#0000ff">case</font>), но никакого кода не предусмотрено для выполнения, то идёт как бы "проваливание" вниз по кейсам и будет выполнен ближайший код. Приведу вам пример:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;"><font color="#0000ff">int</font> CS = 2;<br><font color="#0000ff">switch</font> ( CS ) { <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff">case</font> 1:<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">case</font> 2:<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">case</font> 3:<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; CS += 2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">case</font> 4:<br>&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000ff">default</font>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; CS = 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <font color="#0000ff">break</font>;<br>}<br></td></tr></tbody></table>Как мы видим существует кейс, который равен выражению свитча, но никакого кода для него не предусмотрено, таким образом будет выполнен код следующего кейса, который имеет команды. В нашем случаи это код кейса 3. На выходе наша переменная <font color="#0000ff">CS</font> будет равна 2+2 = <font color="#ff4500">**4**</font>. Если мы использовали условия(оставив только условие CS == 3), как написано выше, то на выходе мы получили бы <font color="#ff4500">0</font>. Иногда это используют и даже бывает полезным, но всё же это делается крайне редко.<br>В Sanny Builder есть аналог этой конструкции - <a href="/publ/uroki_skriptinga/gta_sa/tablicy_perekhodov/34-1-0-145">таблицы переходов</a>. Главное отличие в том, что в swith мы можем подставлять выражения любого примитивного типа данных.<br>Вот мы рассмотрели очередную блочную констукцию. Надеюсь, это поможет вам в разработке как скриптов к GTA 4, так и приложений на c#.|487|1|0||blochnye_konstrukcii_upravljajushhij_operator|1392798779