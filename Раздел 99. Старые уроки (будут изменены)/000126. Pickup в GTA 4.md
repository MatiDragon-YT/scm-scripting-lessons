Pickup в GTA 4||wmysterio|wmysterio|wmysterio@yandex.ru|||Всем привет! С вами wmysterio, и на этот раз речь пойдёт о пикапах(Pickup). В SripthookDotNet есть три команды для создания объекта этого класса:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" align="center">**Команды<br>**</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" align="center">**Описание<br>**</td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" align="center">**Параметры и примеры<br>**</td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Pickup.CreateMoneyPickup(Pos, 5000);</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Создать пикап денег<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">**Pos** - позиция, объект <font color="#808000">**Vector3**</font><br>**5000** - сумма(долларов)<br><br>Возвращаемый параметр: объект класса <font color="#808000">**Pickup**</font><br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">02E1: 0@ = cr_cash_pickup 5000 at 8.1 6.9 1.7 flag 1<br></td></tr></tbody></table></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Pickup.CreatePickup(Pos, Modl, PicType);</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Создать "общий" пикап. Есть два вида пикапов: как оружие или как None.<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">**Pos** - позиция, объект <font color="#808000">**Vector3**</font><br>**Modl** - модель пикапа, объект структуры <font color="#808000">**Model**</font><br>**PicType** - Тип пикапа, перечисление <font color="#808000">**PickupType**</font><br><br>Возвращаемый параметр: объект класса <font color="#808000">**Pickup**</font><br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0213: 0@ = cr_pic #INFO type 3 at 2.7 2.2 6.9<br></td></tr></tbody></table></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Pickup.CreateWeaponPickup(Pos, Weap, 500);</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Создать пикап оружия<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">**Pos** - позиция, объект <font color="#808000">**Vector3**</font><br>**Weap** - оружие, перечисление** ****<font color="#808000">Weapon</font><br>500** - Количество патронов <br><br>Возвращаемый параметр: объект класса <font color="#808000">**Pickup**</font><br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">032B: 0@ = cr_w_pic #M4 gr 15 ammo 60 at 1.9 1.4 1.3<br></td></tr></tbody></table></td></tr></tbody></table>Команды возвращают объект(например, **Pic1**), к которому можно применить следующие команды:<br><table style="width: 100%; border-collapse: collapse;" width=""><tbody><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" align="center">**Команды<br>**</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" align="center">**Описание<br>**</td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" align="center">**Параметры и примеры<br>**</td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Pic1.AttachBlip();</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Создаёт маркер над пикапом<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Возвращающий параметр: объект класса <font color="#808000">**Blip<br><br>**</font>Примеры в Sanny Builder:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">03DC: 1@ = create_marker_above_pickup 0@<br></td></tr></tbody></table></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Pic1.CollectableByCar = true;</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Включить/выключить возможность подбирать пикапы в машине<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">**true** - включить/выключить возможность<br><br>Примеры в Sanny Builder: нет<br></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Pic1.CurrentRoom;</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Получить интерьер пикапа<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;">Возвращающий параметр: структура **<font color="#808000">Room</font>**<br><br>Примеры в Sanny Builder: нет<br></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Pic1.Delete();</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Уничтожает пикап<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Примеры в Sanny Builder:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0215: destroy_pickup 0@<br></td></tr></tbody></table></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Pic2.Exists()</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Проверка: "**Пикап существует?**"<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Примеры в Sanny Builder:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">09D1:&nbsp;&nbsp; pickup 0@ created<br></td></tr></tbody></table></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Pic2.GiveToPed(Act);</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Дать пед'у пикап<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">**Act** - пед, объект класса <font color="#808000">**Ped**</font><br><br>Примеры в Sanny Builder: нет<br></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Pic2.HasBeenCollected</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Получить результат подбирания пикапа.<br>Проверка: "**Пикап подобран?**"<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Возвращающий параметр: bool<br><br>Примеры в Sanny Builder:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0214:&nbsp;&nbsp; pickup 0@ picked_up<br></td></tr></tbody></table></td></tr><tr><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Pic2.Position;</td><td style="width: 20%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Получить позицию пикапа<br></td><td style="width: 40%; border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px; vertical-align: top;" valign="top">Возвращающий параметр: объект <font color="#808000">**Vector3**</font><br><br>Примеры в Sanny Builder:<table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">065B: store_pickup 0@ position_to 1@ 2@ 3@<br></td></tr></tbody></table></td></tr></tbody></table>Давайте напишем простой пример: при нажатии кнопки TAB, возле игрока появятся три пикапа: MP5, денег и бита:<!--uzcode--><div class="bbCodeBlock"><div class="bbCodeName" style="padding-left:5px;font-weight:bold;font-size:7pt">Код</div><div class="codeMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzc-->using System;<br>using System.Windows.Forms;<br>using System.Drawing;<br>using GTA;<br><br>namespace TestScript {<br>&nbsp;&nbsp;&nbsp; public class Thread : Script {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Thread() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while (true) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(Game.isKeyPressed(Keys.Tab)){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector3 Pos = Player.Character.Position;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pos.X += 2.0F;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pickup.CreateMoneyPickup(Pos, 50000);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pos.X += 2.0F;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pickup.CreatePickup(Pos, Model.GetWeaponModel(Weapon.Melee_BaseballBat), PickupType.Weapon);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pos.X += 2.0F;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pickup.CreateWeaponPickup(Pos, Weapon.SMG_MP5, 500);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(0); <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; } <br>}<!--/uzc--></div></div><!--/uzcode-->Вот, что мне известно о пикапах <img src="http://s49.ucoz.net/sm/15/wink.gif" alt="wink" align="absmiddle" border="0">|871|1|0||pickup_v_gta_4|1392794647