# 000101. Наш первый скрипт. Необходимые условия его написания

Наш первый скрипт. Необходимые условия его написания|Итак, мы подошли в плотную к написанию скрипта, и здесь мы рассмотрим необходимые условия для его создания.|wmysterio|wmysterio||||Первым шагом будет подключения необходимых библиотек для работы. В обозревателе решений выделим папку "Ссылки". Нажимаем "ПКМ->Добавить ссылку...". В появившемся окне выбираем вкладку "Обзор" и ищем в нём файл "ScriptHookDotNet.dll". Он лежит в папке

GTA IV\scripts\for Developers\bin

Нажимаем "Ок":

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/1/12611060.png)

В этой библиотека находятся все функции GTA 4, которые мы будем использовать в скриптах.

Так же нам необходима ещё одна ссылка. Используя метод выше, добавим ссылку "System". Она уже вложена в каталог, поэтому искать её нужно во вкладке ".NET":

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/1/74613589.png)

Минимальные ссылки мы подключили. Теперь можно писать код. В первую очередь нам необходимо подключить эти ссылки. Делается это командой **using**. В поле редактора добавляем следующий код:

```
cs
using System;
using GTA;
```

Теперь мы можем пользоваться командами, находящиеся в этих библиотеках. Дальше мы должны объявить область, которая содержит набор связанных объектов ( **namespase** ). Обычно это делается как для удобства так и во избежание возможных конфликтов между типами ( в разных пространствах имён могут существовать типы с одинаковыми именами ).

```
cs
namespace TestScript {
 // Сюда пишем код! Это как область для главного потока 'MAIN' в Sanny Builder
}
```

Этому пространству обычно дают название такое же, как и название проекта. В нашем случаи это "TestScript". В отличии от SannyBuilder, скобки **{** и **}** являются блоком, внутри которого пишется код. Они всегда должны идти парно, чтобы одна открывала блок, другая - закрывала. В сумме этот блок формирует так званую "область видимости".

Как и известном Саннике, тут же присутствуют комментарии. Синтаксис написания таков:

```
cs
код;
код; // Это строчный комментарий!
код;
код;

/* -------------------------------------
А это уже
многострочный комментарий!!!
код; -------------------------------- */

код;
```

В блоке "namespace" нам нужно добавить новый класс с произвольным именем. Это будет какбы аналогом потока в SannyBuilder:

```
cs
public class Thread : Script {

 /* ПРОСТРАНСТВО ФУНКЦИЙ */

} ///////////////////////
```

В нашем случае, мы объявили поток с именем "Thread". "Script" - это класс, который нужен для запуска этого потока. Другими словами эта конструкция "превращает" клас в скрипт, используемый игрой. Символ ":" здесь говорит о том, что все методы, которые есть в классе "Script" будут доступны и в классе "Thread". В C# это принято называть "наследованием". Это одна из базовых концепций объектно-ориентированного программирования. Но о нём мы поговорим в следующих уроках.

Этот "поток", как Вы уже догадались по скобкам, так же блочный. Внутри его находится область видимости, которое я здесь упрощённо назвал "пространством функций". В нём мы можем размещать различные методы в блоке и прочее. Главная функция, которая начинает поток ( аналог **name\_thread** в Саннике ), имеет следующий синтаксис написания:

```
cs
public Thread() {

 /* ПРОСТРАНСТВО ПОТОКА */

} ///////////////////////
```

Стоит отметить, что этот синтаксис не походит для остальных функций. Дело в том, что это "конструктор" - функция, котороя сосдаёт объект. Имя функции совпадает с и именем класса. Поскольку, ScriptHook имеет свою реализацию запуска, то создавать объекты через него нам не нужно - это делается автоматически. Внутри этого блока мы как раз и будем писать скрипт, вызывая функции для GTA IV. Если собрать всё в кучу, то мы получим следующий код:

| C#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Аналог в Sanny Builder |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------- |
| <p>```</p><p>cs using System; using GTA;</p><p>namespace TestScript {</p><p>/* ПРОСТРАНСТВО ДЛЯ ВСЕХ ПОТОКОВ */</p><p>public class Thread : Script {</p><p>public Thread() {</p><p>/* ПРОСТРАНСТВО ДЛЯ КОНКРЕТНОГО ПОТОКА */</p><p>}</p><p>/* ПРОСТРАНСТВО ФУНКЦИЙ ПОТОКА */ } }</p><pre><code>&#x3C;/td>&#x3C;td></code></pre><p>{$CLEO} 0000:</p><p>{ ПРОСТРАНСТВО ФУНКЦИЙ ПОТОКА }</p><p>thread 'Thread'</p><p>// ПРОСТРАНСТВО ДЛЯ КОНКРЕТНОГО ПОТОКА</p><p>0A93: end_custom_thread</p><pre><code>&#x3C;/td>&#x3C;/tr>
&#x3C;/tbody>&#x3C;/table>

Сохраняем наш проект. **НЕ** компилируем, а просто сохраняем! Можем закрывать C# и перейти в папку с проектом. Копируем файл "TestScript.cs" в папку "GTA IV&#x26;#92;scripts". Скрипт установлен! Теперь он готов к выполнению! :)

Естественно, скрипт ничего не делает, так как он пуст. Что и как писать я расскажу в следующих уроках. Это только основа.

P.S. Рекомендация:


- Создать текстовый файл в папке "GTA IV&#x26;#92;scripts";
- Переименовать расширение файла с *.txt на *.cs;
- Нажимаем ПКМ на названии проекта и выбрать "Добавить->Существующий элемент...":&#x3C;br>
&#x3C;!--IMG3-->&#x3C;img src="https://github.com/wmysterio/scm-scripting-lessons/raw/resources/_pu/1/54060822.png" />&#x3C;!--IMG3-->&#x3C;br>
В появившемся окне выбираем созданный нами файл в шаге 1 и нажимаем "Добавить";

- Сохраняем проект;


Теперь мы можем редактировать несколько проектов!|1306|1|0|12611060`png`481`400`400`332``\|74613589`png`480`398`400`331``\|54060822`png`628`173`400`110``\||nash_pervyj_skript_neobkhodimye_uslovija_ego_napisanija|1511772814</code></pre> |                        |
