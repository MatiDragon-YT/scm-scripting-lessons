Транспорт и команды, свойственны ему|Как и в предыдущем уроке, мы рассмотрим опкоды. Но на этот раз тема касается транспорта.|wmysterio|wmysterio||||Транспорт разделяется условно на 4 группы: машины ( в том числе байки и велики ), поезда, лодки, воздушные средства передвижения. Большинство опкодов можно применить ко всем видам транспорта. Рассмотрим их:

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Безусловные</th></tr>
<tr><td>car.PutAt($Car, 10.0, -1400.0, 18.0)</td></tr>
<tr><td>перемещает машину в заданные координаты</td></tr>
<tr><td>car.Destroy($Car)</td></tr>
<tr><td>уничтожить машину</td></tr>
<tr><td>car.Health($CAR) = 500</td></tr>
<tr><td>устанавливает количество жизни машине ( если ниже 251 то машина начнёт гореть! )</td></tr>
<tr><td>car.RemoveReferences($Car)</td></tr>
<tr><td>стирает все сведения о машине</td></tr>
<tr><td>03C0: $Car = actor $PLAYER_ACTOR car</td></tr>
<tr><td>записывает в переменную машину, в которой сидит актёр</td></tr>
<tr><td>02E3: $Speed = car $Car speed</td></tr>
<tr><td>записывает в переменную скорость с которой едет транспорт</td></tr>
<tr><td>04BA: set_car $Car speed_instantly 20.0</td></tr>
<tr><td>устанавливает машине скорость</td></tr>
<tr><td>Car.SetMaxSpeed($Car, 10.0)</td></tr>
<tr><td>устанавливает максимальную скорость машины, до которой она может разогнаться ( если за рулём машини СЖ, то опкод не работает )</td></tr>
<tr><td>0294: set_car $Car sprayable 1</td></tr>
<tr><td>машину можно перекрашивать ( если поставить 0 - то нельзя )</td></tr>
<tr><td>car.DoorStatus($Car) = 2</td></tr>
<tr><td>замыкает двери машины( если поставить 0 то двери можно будет открывать)</td></tr>
<tr><td>0229: set_car $Car color_to 11 0</td></tr>
<tr><td>устанавливает цвета машины ( см. <a href="/dir/gta_sa/cveta_avtomobilej_v_gta_san_andreas/1-1-0-19">Цвета автомобилей</a> ) Первая цифра: основной цвет, другая - вторичный цвет.</td></tr>
<tr><td>car.SetImmunities($Car,1,1,1,1,1)</td></tr>
<tr><td>устанавливает машине иммунитеты от взрывов, падения и т.п.</td></tr>
<tr><td>0ABE: vehicle $Car engine_on</td></tr>
<tr><td>включает мотор машины</td></tr>
<tr><td>02D4: car $Car turn_off_engine</td></tr>
<tr><td>выключает мотор машины</td></tr>
<tr><td>0A26: set_radio_to_favorite_station</td></tr>
<tr><td>устанавливает радио на самую используемую радиостанцию</td></tr>
<tr><td>041E: set_radio_station 0</td></tr>
<tr><td>устанавливает радио на определённую радиостанцию. Список радиостанций смотрите в нашей <a href="/dir/gta_sa/id_radio_stancij/1-1-0-41">базе данных</a>. Если вы используете служебный транспорт ( пожарную, скорую ), то опкод может не сработать.</td></tr>
</tbody></table>

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Условные</th></tr>
<tr><td>0495: car $Car burning</td></tr><tr><td>роверка: машина горит?</td></tr>
<tr><td>car.Defined($CAR)</td></tr><tr><td>проверка: машина существует?</td></tr>
<tr><td>02BF: car $Car sunk</td></tr><tr><td>проверка: машина упала в воду?</td></tr>
<tr><td>01C1: car $Car stopped</td></tr><tr><td>проверка: машина остановилась?</td></tr>
<tr><td>03C9: car $Car damaged</td></tr><tr><td>проверка: машина повреждена?</td></tr>
<tr><td>01F3: car $Car airborne</td></tr><tr><td>проверка: машина в воздухе?</td></tr>
<tr><td>0119: car $Car wrecked</td></tr><tr><td>проверка: машина уничтожена?</td></tr>
<tr><td>051D: cars $Car1 and $Car2 collided</td></tr><tr><td>проверка: машина1 столкнулась с машиной2?</td></tr>
<tr><td>01F4: car $Car flipped</td></tr><tr><td>проверка: машина перевернулась?</td></tr>
<tr><td>03CE: car $Car stuck</td></tr><tr><td>проверка: машина застряла ( не может двигаться )?</td></tr>
</tbody></table>

Команды, свойственны только машинам, великам и байкам:

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Безусловные</th></tr>
<tr><td>car.DriveTo($car, -6.0, 1350.0, 47.0)</td></tr>
<tr><td>заставляет машину ехать в заданные координаты</td></tr>
<tr><td>car.ToggleTaxiLight($Car) = true</td></tr>
<tr><td>включить значок ТАКСИ на машине ( если поставить false - то выключить значок )</td></tr>
<tr><td>067F: set_car $Car headlights 2</td></tr>
<tr><td>включить фары в машине ( если поставить 0 - то выключить )</td></tr>
<tr><td>01EC: make_car $Car very_heavy 1</td></tr>
<tr><td>делает машину очень тяжелой ( как отключить этот параметр я не знаю )</td></tr>
<tr><td>Car.SetToNormalDriver($Car)</td></tr>
<tr><td> машине будет обычный водитель</td></tr>
<tr><td>Сar.SetToPsychoDriver($Car)</td></tr>
<tr><td>в машине будет сумасшедший водитель</td></tr>
<tr><td>Car.SetDriverBehaviour($Car, Nowhere)</td></tr>
<tr><td>устанавливает тип езды машине. Вот все типы, известные мне:

<table class="table table-bordered"><tbody>
<tr><th>Тип</th><th>Описание</th></tr>
<tr><td>0</td><td>никуда не ехать</td></tr>
<tr><td>1</td><td>следовать дороге</td></tr>
<tr><td>2</td><td>ездить за игроком</td></tr>
<tr><td>4</td><td>ездить за игроком</td></tr>
<tr><td>8</td><td>ехать напрямик, не обращая внимания на дорогу</td></tr>
</tbody></table>

</td></tr>
<tr><td>07F8: car $Car1 follow_vehicle $Car2 radius 27.0</td></tr>
<tr><td>заставляет машину1 следовать за машиной2 на растоянии 27.0</td></tr>
<tr><td>car.ToggleHydraulics($Car) = true</td></tr>
<tr><td>устанавливает на машину гидравлику</td></tr>
<tr><td>0657: car $Car open_component 0</td></tr>
<tr><td>открывает часть машины. Вот список известных мне частей:

<table class="table table-bordered"><tbody>
<tr><th>Часть</th><th>Описание</th></tr>
<tr><td>0</td><td>Капот.</td></tr>
<tr><td>1</td><td>Багажник.</td></tr>
<tr><td>2</td><td>Дверь водителя или левого переднего места.</td></tr>
<tr><td>3</td><td>Дверь правого переднего места.</td></tr>
<tr><td>4</td><td>Дверь заднего левого места.</td></tr>
<tr><td>5</td><td>Дверь заднего правого места.</td></tr>
</tbody></table>

</td></tr>
<tr><td>00AE: set_car $Car traffic_behaviour_to 2</td></tr>
<tr><td>машина будет игнорировать светофоры</td></tr>
<tr><td>Car.SetAnimation($Car, 9, 4000)</td></tr>
<tr><td>некая анимация для транспорта ( нужно, что бы в машине был водитель ).

<div class="panel panel-default">
 <div class="panel-body">
Здесь:<br>
4000 - время за которое будет воспроизводится данная анимация<br>
9 - номер анимации. Все известные мне на данный момент анимации перечислены в таблице ниже
 </div>
</div>

<table class="table table-bordered"><tbody>
<tr><th>Тип</th><th>Описание</th></tr>
<tr><td>3</td><td>едет задом</td></tr>
<tr><td>5</td><td>поворачивает колёса вправо</td></tr>
<tr><td>6</td><td>едет по кругу против часовой стрелки</td></tr>
<tr><td>8</td><td>едет по кругу по часовой стрелке</td></tr>
<tr><td>9</td><td>едет прямо</td></tr>
</tbody></table>

 </td></tr>
</tbody></table>

Команды, свойственны самолётам:

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Безусловные</th></tr>
<tr><td>04D2: set_plane $PLANE fly_autopilot_around_point 600.0 250.0 16.0 altitude_between 0.0 and 0.0</td></tr>
<tr><td>заставляет самолёт лететь в заданную точку ( последние 2 параметра не трогайте )</td></tr>
<tr><td>070F: plane $PLANE fly_direction 180.0 altitude_between 200.0 and 200.0</td></tr>
<tr><td>заставляет самолёт лететь под определённым углом ( в нашем случаи под 180.0 градусом ), остальные параметры одинаковы и указывают высоту ( в данном случаи 200.0 )</td></tr>
<tr><td>084E: flying_vehicle $PLANE use_primary_gun 1</td></tr>
<tr><td>использование ракет</td></tr>
<tr><td>0841: flying_vehicle $PLANE use_secondary_gun 1</td></tr>
<tr><td>использование пулемёта</td></tr>
<tr><td>0724: flying_vehicle $PLANE follow_and_attack_player $PLAYER_CHAR radius 40.0</td></tr>
<tr><td>самолёт будет летать около игрока в радиусе 40.0 и атаковать его ( учтите, что самолёт будет атаковать только СЖ, по этому не меняйте переменную $PLAYER_CHAR в опкоде)</td></tr>
</tbody></table>

Команды, применяемые к вертолётам:

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Безусловные</th></tr>
<tr><td>04A2: heli $HELI fly_to 640.0 480.0 128.0 speed 60.0 70.0</td></tr>
<tr><td>заставляет вертолёт лететь в заданную точку со скоростью 60.0 и на высоте 70.0</td></tr>
<tr><td>084E: flying_vehicle $Heli use_primary_gun 1</td></tr>
<tr><td>использование вертолётом ракет</td></tr>
<tr><td>0841: flying_vehicle $Heli use_secondary_gun 1</td></tr>
<tr><td>использование вертолётом пулемёта</td></tr>
<tr><td>0724: flying_vehicle $Heli follow_and_attack_player $PLAYER_CHAR radius 40.0</td></tr>
<tr><td>тоже самое, что и опкод 0724, только с вертолётом ( заставляет атаковать СЖ )</td></tr>
<tr><td>0788: enable_heli $Heli magnet 1</td></tr>
<tr><td>устанавливает на вертолёт магнит, если 0 то убирает магнит</td></tr>
<tr><td>0789: set_heli $Heli release_stuff_from_magnet</td></tr>
<tr><td>забирает магнит с вертолёта</td></tr>
</tbody></table>

Команды, применяемые к лодкам:

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Безусловные</th></tr>
<tr><td>02D3: boat $Boat drive_to 10000.0 -100.0 0.0</td></tr>
<tr><td>заставляет лодку плыть в заданные координаты</td></tr>
<tr><td>02DB: set_boat $Boat speed_to 50.0</td></tr>
<tr><td>устанавливает лодке нужную скорость</td></tr>
</tbody></table>

Команды для поездов:

<table class="table table-striped table-bordered"><tbody>
<tr><th colspan="2" class="text-center">Безусловные</th></tr>
<tr><td>06D8: $Train = create_train_at 2285.1523 -1257.4998 23.0 type 15 direction 1</td></tr>
<tr><td>создаёт поезд в нужных координатах. Здесь 15 - тип поезда ( в основном тип влияет на модели поезда и вагона а так же на количество самих вагонов ), 1 - указывается направление поезда. Координаты задавайте такие, что бы они были ближе к рельсам, иначе поезд создастся чёрт знает где :)</td></tr>
<tr><td>06DD: set_train $Train speed 23.0</td></tr>
<tr><td>устанавливает скорость поезду</td></tr>
<tr><td>06DC: set_train $Train acc 7.0</td></tr>
<tr><td>устанавливает ускорение для поезда</td></tr>
<tr><td>06D7: toggle_train_traffic 1</td></tr>
<tr><td>параметр влияет на появление поездов: 1 - будут появляться как обычно, 0 - не будут появляться вообще</td></tr>
<tr><td>09CF: set_train $Train flag 0</td></tr>
<tr><td>задаёт поезду флаги. Что именно задаёт этот опкод я не знаю и не использую его</td></tr>
</tbody></table>

К поездам мы ещё вернёмся и детально изучим их. Сейчас я выложил только опкоды.|2988|1|0||transport_i_komandy_svojstvenny_im|1498658527