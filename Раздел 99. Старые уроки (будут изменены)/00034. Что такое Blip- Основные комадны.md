Что такое Blip? Основные комадны||wmysterio|wmysterio|wmysterio@yandex.ru|||Всем привет! В этом уроке мы поговорим о GTA 4, а конкретнее о маркерах. <font color="#6b8e23">**Blip**</font> - это некий указатель над игровым субъектом, маленькая стрелочка. Хочу отметить, что это объект класса GTA и он не имеет конструктора. Чтобы работать с ним, нужно получать Blip непосредственно из функций субъектов. Вот простой пример этого получения:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">Vector3 Pos = Player.Character.Position;<br>Pos.X += 2.0F;<br>Ped MyPed = World.CreatePed(new Model("M_Y_GAFR_LO_02"), Pos, RelationshipGroup.Civillian_Male);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>Blip Bl = MyPed.AttachBlip();<br></td></tr></tbody></table>После этого мы можем манипулировать блип'ом:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;" align="center">**Команда<br>**</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;" align="center">**Описание<br>**</td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;" align="center">**Некоторые значения и примеры<br>**</td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Color = Colr;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получить или задать цвет маркеру<font color="#ff4500"> **</font><br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**Colr** - цвет маркера, перечисление **<font color="#808000">BlipColor</font>**<br><br>Возвращающий параметр: перечисление **<font color="#808000">BlipColor</font>**<br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0165: set_marker 0@ color_to 1<br></td></tr></tbody></table></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Delete();</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Удаляет(отключает) маркер<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0164: disable_marker 0@<br></td></tr></tbody></table></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Display = BD;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">???<br>Получить или задать дисплей изображения <font color="#ff4500">*</font><br>???<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**BD** - цвет маркера, перечисление <font color="#808000">**BlipDisplay**</font><br><br>Возвращающий параметр: перечисление <font color="#808000">**BlipDisplay**</font><br><br>Примеры в Sanny Builder: неизветсно</td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Exists()<br></td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Проверка: "Маркер существует(включен)?"<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">075C:&nbsp;&nbsp; marker 0@ enabled</td></tr></tbody></table></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Friendly = true;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Устанавливает тип маркера: цель является дружеской или вражеской<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**true** - дружеская, **false** - вражеская<br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">07E0: set_marker 0@ type_to 1<br></td></tr></tbody></table></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.GetAttachedItem();</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получить прикреплённые элементы маркера<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Возвращающий параметр: объект <font color="#000000">**GTA**</font>.<font color="#0000ff">@base</font>.**<font color="#808000">Object</font>**<br><br>Примеры в Sanny Builder: нет</td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Icon = NI;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получает или задаёт иконку маркеру. К сожалению, я не знаю что это за иконки<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**NI** - цвет маркера, перечисление <font color="#808000">**BlipIcon**</font><br><br>Возвращающий параметр: перечисление <font color="#808000">**BlipIcon**</font><br><br>Примеры в Sanny Builder: неизветсно<br></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.MemoryAddress;<br></td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получить адрес памяти блипа<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Возвращающий параметр: число (**int**)<br><br>Примеры в Sanny Builder: нет<br></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;"> Bl.Name;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получить имя маркера<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Возвращающий параметр: строка (**string**)<br><br>Примеры в Sanny Builder: нет</td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Position = Pos;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получить или задать позицию маркера. <font color="#ff4500">*</font></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**Pos** - цвет маркера, объект <font color="#808000">**Vector3**</font><br><br>Возвращающий параметр: объект <font color="#808000">**Vector3**</font><br><br>Примеры в Sanny Builder: нет</td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Priority = 4;<br></td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">???<br>Задать приоритет маркеру<br>???<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**4** - приоритет, число (**int**)<br><br>Примеры в Sanny Builder: неизвестно<br></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.RouteActive = true;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Сделать активным маршрут <font color="#ff4500">*</font></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**true** - включить/выключить возможность<br><br>Примеры в Sanny Builder: нет<br></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Scale = 4.0F;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Задать размер(масштаб) <br>блипа <font color="#ff4500">*</font></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**4.0F** - размер, число (**float**)<br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0168: set_marker 0@ size 4</td></tr></tbody></table></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.SetColorRGB(Colr);<font color="#ff4500"> ***</font></td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Задать персональный цвет маркеру в RGB.<font color="#ff4500"> **</font></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**Colr** - цвет, объект <font color="#808000">**Color**</font><br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">0165: set_marker 0@ color_to 0xFF0000FF<br></td></tr></tbody></table></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.ShowOnlyWhenNear = true;<br></td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Заставить блип показаться только тогда, когда игрок рядом. Эту команду можно также использовать как проверку. <font color="#ff4500">*</font></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**true** - включить/выключить возможность<br><br>Примеры в Sanny Builder:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">04CE: 0@ = cr_ic_mar_w_out_sp 18 at 7.3 -4.4 2.5</td></tr></tbody></table><br></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Bl.Transparency = 3.0F;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Задать маркеру прозрачность (Наверное в процентах)<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">**3.0F** - прозрачность, число (**float**)<br><br>Примеры в Sanny Builder: нет (скорее всего)<br></td></tr><tr><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">BlipType BT = Bl.Type;</td><td style="vertical-align: top; width: 20%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Получить тип блипа<br></td><td style="vertical-align: top; width: 40%; letter-spacing: 0px; word-spacing: 0px; border-width: 1px; border-style: solid; border-color: #000000;">Возвращающий параметр:перечисление <font color="#808000">**BlipType**</font><br><br>Примеры в Sanny Builder: нет<br></td></tr></tbody></table>Давайте напишем простой пример - при нажатии TAB, возле Нико спавнится пед, и к нему цепляется блип, цвета Aqua:<!--uzcode--><div class="bbCodeBlock"><div class="bbCodeName" style="padding-left:5px;font-weight:bold;font-size:7pt">Код</div><div class="codeMessage" style="border:1px inset;max-height:200px;overflow:auto;height:expression(this.scrollHeight<5?this.style.height:scrollHeight>200?'200px':''+(this.scrollHeight+5)+'px');"><!--uzc-->using System;<br>using System.Windows.Forms;<br>using System.Drawing;<br>using GTA;<br><br>namespace TestScript {<br>&nbsp;&nbsp;&nbsp; public class Thread : Script {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Thread() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while (true) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(Game.isKeyPressed(Keys.Tab)){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector3 Pos = Player.Character.Position;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pos.X += 2.0F;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ped MyPed = World.CreatePed(new Model("M_Y_GAFR_LO_02"), Pos, RelationshipGroup.Civillian_Male);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blip Bl = MyPed.AttachBlip();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bl.Friendly = true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bl.SetColorRGB(Color.Aqua);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wait(0); <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; } <br>}<br><br><!--/uzc--></div></div><!--/uzcode--><font color="#ff4500">Важно!</font> Примечания:<br><font color="#ff4500">*</font> - Тестирование показало, что будет ошибка скрипта при применении команды. <br> Это свидетельствует о том, что есть другие виды маркеров, которые поддерживают эту команду.<br><font color="#ff4500"> ** </font>- Что бы компилятор видел класс Color, нужно подключить библиотеку:<br><table style="width: 100%; border-collapse: collapse;"><tbody><tr><td style="border-width: 1px; border-style: solid; border-color: #000000; letter-spacing: 0px; word-spacing: 0px;">using System.Drawing;<br></td></tr></tbody></table>а так же в проект в "Ссылки" добавить соответствующий названию dll-файл:<br><!--IMG1--><a href="/_pu/1/17614145.png" class="ulightbox" target="_blank" title="Нажмите, для просмотра в полном размере..."><img alt="" src="/_pu/1/s17614145.jpg" /></a><!--IMG1--><br><br><font color="#ff4500">***</font> - Не все цвета отображаются корректно, это свидетельствует о том, что в GTA 4 есть своя палитра цветов.<br>На этом урок окончен. Увидимся в следующим уроке! <img src="http://s49.ucoz.net/sm/15/smile.gif" border="0" align="absmiddle" alt="smile" />|884|1|0|17614145`png`482`400`400`331\||chto_takoe_blip_osnovnye_komadny|1392794492