# 00028. Актёры и команды, свойственны им. Команды  для игрока

Актёры и команды, свойственны им. Команды для игрока|В этом уроке мы рассмотрим команды, которые будут влиять на актёров и игрока.|wmysterio|wmysterio||||Естественно от одного созданного актёра пользы не будет, так как он будет стоять. Все команды можно разделить на 2 большие группы: условные ( опкоды, назначены для проверок ) и безусловные. Начнём с самых простых:

| Безусловные                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                    |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- |
| Actor.Health($Actor) = 1000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                    |
| устанавливает кол-во жизни у актёра                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                    |
| Actor.Armour($Actor) = 150                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                    |
| устанавливает кол-во брони актёра                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                    |
| Actor.Angle($Actor) = 250.24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                    |
| устанавливает угол поворота актёра                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                    |
| actor.RemoveReferences($ACTOR)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                    |
| стирает все сведения о актёре. другими словами - актёр нам больше не нужен и игра уже будет сама решать что ему делать                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                    |
| actor.DestroyInstantly($Actor)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                    |
| уничтожает созданного ранее актёра                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                    |
| actor.PutAt($Actor, 1234.0, -189.0, 36.0)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                    |
| перемещает актёра в заданные координаты                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                    |
| 05D4: AS\_actor $Actor rotate\_angle 175.8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                    |
| актёр повернётся на заданный угол ( в отличии от Actor.Angle мы сможем увидеть как он будет поворачиваться )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                    |
| 0672: AS\_actor $Actor attack\_car $Car                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                    |
| актёр будет атаковать заданную машину                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                    |
| 0850: AS\_actor $Actor follow\_actor $Actor2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                    |
| актёр1 будет следовать за актёром2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                    |
| 04EB: AS\_actor $Actor crouch 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                    |
| заставляет актёра присесть, если поставить 0, то заставляет актёра встать.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                    |
| 0332: set\_actor $Actor bleeding\_to 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                    |
| заставляет актёра истекать кровью                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                    |
| 03FE: set actor $Actor money 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                    |
| устанавливает актёру кол-во денег                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                    |
| 05CD: AS\_actor $Actor exit\_car $Car                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                    |
| заставляет актёра выйти с заданной машины                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                    |
| Actor.WeaponAccuracy($Actor) = 95                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                    |
| устанавливает актёру точность стрельбы                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                    |
| 05E2: actor $Actor1 kill\_actor $Actor2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                    |
| заставляет актёра1 убивать актёра2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                    |
| 0639: AS\_actor $Actor1 rotate\_to\_actor $Actor2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                    |
| заставляет актёра1 повернуться лицом к актёру2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                    |
| 0729: AS\_actor $Actor hold\_cellphone 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                    |
| заставляет актёра взять телефон и приложить его к уху, если поставить 0, то актёр положит телефон обратно в карман ( учтите, что бы было видно телефон нужно загрузить модель #CELLPHONE, а потом использовать этот опкод )                                                                                                                                                                                                                                                                                                                                                                                                         |                                                    |
| 0321: kill\_actor $Actor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                    |
| убить актёра                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                    |
| 05BC: AS\_actor $Actor jump 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                    |
| заставляет пригнуть актёра ( 0 - стиль прыжка, так его и оставляйте, так как ничего особого не поменяется )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                    |
| actor.SetImmunities($Actor, 1, 1, 1, 1, 1)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                    |
| устанавливает актёру иммунитеты к ударам, взрывам и прочего.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                    |
| 07FE: set\_actor $Actor fighting\_style\_to 5 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                    |
| устанавливает актёру определённый стиль драки                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                    |
| 08C6: set\_actor $Actor stay\_on\_bike 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                    |
| актёр не сможет упасть с байка, если поставить 0 - то сможет                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                    |
| 06B0: AS\_actor $Actor sit\_down 5000 ms                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                    |
| заставляет актёра сидеть 5 секунд ( 1000 ms = 1 сек. )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                    |
| 05BA: AS\_actor $Actor chew\_gum 5000 ms                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                    |
| заставляет актёра жевать жвачку 5 секунд ( 1000 ms = 1 сек. ), но иногда не срабатывает                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                    |
| 0245: set\_actor $Actor walk\_style\_to "FATMAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                    |
| <p>устанавливает актёру определённый стиль походки. Я нашел только эти стили:</p><table><thead><tr><th>Стиль</th><th>Описание</th></tr></thead><tbody><tr><td>"FATMAN"</td><td>толстяк</td></tr><tr><td>"GANG1"</td><td>гангстер 1</td></tr><tr><td>"GANG2"</td><td>гангстер 2</td></tr><tr><td>"MAN"</td><td>мужчина</td></tr><tr><td>"WOMAN"</td><td>женщина</td></tr><tr><td>"BLINDMAN"</td><td>слепой мужчина</td></tr><tr><td>"SEXYWOMAN"</td><td>сексуальная женщина</td></tr><tr><td>"DRUNKMAN"</td><td>алкаш</td></tr><tr><td>"PLAYER"</td><td>стиль игрока ( СЖ ), но я не тестировал этот стиль</td></tr></tbody></table> |                                                    |
| Стиль                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Описание                                           |
| "FATMAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | толстяк                                            |
| "GANG1"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | гангстер 1                                         |
| "GANG2"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | гангстер 2                                         |
| "MAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | мужчина                                            |
| "WOMAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | женщина                                            |
| "BLINDMAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | слепой мужчина                                     |
| "SEXYWOMAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | сексуальная женщина                                |
| "DRUNKMAN"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | алкаш                                              |
| "PLAYER"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | стиль игрока ( СЖ ), но я не тестировал этот стиль |
| 0446: set\_actor $Actor immune\_to\_headshots 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                    |
| устанавливает актёру иммунитет от хеадшотов ( выстрелов в голову ), если поставить 1 - то, как уже догадались, прострелить голову будет нельзя                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                    |

Вот список условных опкодов, то есть тех, которые должны использоваться в блоке "if"

| Условные                                                |
| ------------------------------------------------------- |
| 0965: actor $Actor swimming\_in\_water                  |
| проверка: находится актёр в воде?                       |
| 06EE: actor $Actor in\_group $Player\_Group             |
| проверка: находится актёр в группе $Player\_Group?      |
| actor.InCar($PLAYER\_ACTOR, $Car)                       |
| проверка: находится актёр в заданной машине?            |
| actor.Driving($PLAYER\_ACTOR)                           |
| проверка: сидит актёр за рулём(или в транспорте)?       |
| actor.DrivingPoliceVehicle($PLAYER\_ACTOR)              |
| проверка: сидит актёр за рулём полицейского транспорта? |
| actor.DrivingTaxiVehicle($PLAYER\_ACTOR)                |
| проверка: актёр сидит за рулём в такси?                 |
| 04A7: actor $PLAYER\_ACTOR driving\_boat                |
| проверка: актёр сидит за рулём(штурвалом) лодки?        |
| actor.DrivingVehicleType($ACTOR, #CAR\_MODEl)           |
| проверка: модель машины актёра равна #CAR\_MODEl?       |
| actor.Dead($PLAYER\_ACTOR)                              |
| проверка: актёр умер?                                   |
| actor.Stopped($PLAYER\_ACTOR)                           |
| проверка: актёр остановился(не бежит)?                  |
| 04C5: actor $PLAYER\_ACTOR photographed                 |
| проверка: актёр фотографирует?                          |
| 056D: actor $ACTOR defined                              |
| проверка: существует ли актёр?                          |

Эти опкоды можно использовать со всеми актёрами, в том числе СЖ. Однако есть опкоды, которые свойственны только игроку. Рассмотрим некоторые с них:

| Безусловные                                                                                                                                       |
| ------------------------------------------------------------------------------------------------------------------------------------------------- |
| 052C: set\_player $PLAYER\_CHAR drunk\_visuals 100                                                                                                |
| заставляет экран шататься, как будто игрок пьян (100 - сила шатания, не советую делать очень большие цифры, иначе шатание превратится в мерцание) |
| player.CanMove($PLAYER\_CHAR) = false                                                                                                             |
| вы не сможете ничего делать. Если поставить true, то сможете. Очень часто используется, особенно при видеороликах.                                |
| player.ClearWantedLevel($PLAYER\_CHAR)                                                                                                            |
| очищает уровень розыска                                                                                                                           |
| player.Money($PLAYER\_CHAR) += 1000                                                                                                               |
| прибавляет игроку 1000 денег                                                                                                                      |
| 0998: add respect 5                                                                                                                               |
| прибавляет игроку респект ( уважение )                                                                                                            |
| 0992: set\_player $PLAYER\_CHAR weapons\_scrollable 1                                                                                             |
| даёт игроку возможность менять оружие, которое у него в руках. Если поставить 0 то вы не сможете менять ( как бы замораживает его в руке )        |

| Условные                                                                                               |
| ------------------------------------------------------------------------------------------------------ |
| Player.Defined($PLAYER\_CHAR)                                                                          |
| проверка: игрок существует?                                                                            |
| player.PressingHorn($PLAYER\_CHAR)                                                                     |
| проверка: игрок сигналит? Что бы сработала эта проверка нужно находится в транспорте и нажать "Сигнал" |
| wasted\_or\_busted                                                                                     |
| проверка: игрок пойман или арестован? Использовать только в миссиях!!!                                 |
| Player.Controllable($PLAYER\_CHAR)                                                                     |
| проверка: игрок контролируем?                                                                          |
| 0457: player $PLAYER\_CHAR aiming\_at\_actor $Actor                                                    |
| проверка: игрок целится в актёра?                                                                      |
| Player.WantedLevel($PLAYER\_CHAR) > 0                                                                  |
| проверка: уровень розыска игрока больше нуля? Максимальный уровень розыска может быть 6 и не более.    |

Это только самые распространённые команды в скрипте. Есть очень большое количество опкодов и по мере изучения скриптинга в целом мы будем изучать новые и новые опкоды.

Стоит также расказать о разнице между "$PLAYER\_ACTOR" и "$PLAYER\_CHAR". Новички часто путают эти переменные и используют их не там, где нужно. Если в описании опкода есть слово "actor", то в тотальном большинстве случаев нужно использовать "$PLAYER\_ACTOR". Если в опкоде есть слово "player", то нужно использовать "$PLAYER\_CHAR".|2652|1|0||aktjory|1498735550
