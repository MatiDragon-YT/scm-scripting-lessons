---
description: >-
  Если Вы ещё новичок в скриптинге, то эта информация будет для Вас полезной.
  Речь пойдёт о пространстве игры, а точнее о координатах и углах.
---

# Координаты. Угол. Получение координат и угла

В этом уроке мы рассмотрим концепцию координат в играх серии GTA. Если смотреть в общем, то игровой мир — это большой квадрат, внутри которого находится игровой мир. Как правило, в играх есть координатная сетка, по которой можно узнать где сейчас находится игрок, объект и прочее. Если смотреть на мир что называется сверху, то сетка имеет две оси: `X` и `Y`. Центр обычно находится в координатах `{0.0; 0.0}`. Давайте посмотрим на карту:

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/56448064.png)

Центр мы видим, и его координаты мы знаем. Какая же максимальная длина "X" и "Y"? Каждой карте всегда есть предел. В нашем случае длина не может составлять больше 3000.0. Для моддинга рекомендую 2800.0 единиц, иначе если выйти за его пределы, то карта станет невидимой (но поверхность всё равно ощущать можно). Это конкретно для GTA SA; а вот для  GTA 3 и GTA Vice City эти значения ещё меньше, так как размер карты там меньше.

Также в 3D играх (в том числе и в наших GTA-шек), существует и 3-й компонент: `Z`. Как уже многие догадались, это высота (например, над уровнем моря). На картинке такую высоту определить нельзя, однако в игровом мире мы это ясно видим.

### Поиск координат и угла поворота

Чтобы разместить в игре какой-нибудь субъект, нужно получить координаты. Sanny Builder позволяет это сделать. Для этого нужно запустить игру и подождать, пока игра не даст контроль над главным героем. Затем выбрать нужную позицию:

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/00814873.png)

&#x20;Далее уже в Sanny Builder нажать на кнопки `CTRL`+`SHIFT`+`C`:

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/09504944.png)

Это сработает, если есть активная вкладка. Координаты должны появиться возле курсора. Первое число — позиция по оси "X", другая — позиция по оси "Y", и третья — позиция по оси "Z". В зависимости от ситуации, игровую сущность нужно повернуть на определённый угол. Для этого развернём главного героя в нужную сторону:

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/36238161.png)

и воспользуемся комбинацией кнопок `CTRL`+`SHIFT`+`E`:

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/07641083.png)

В нашем случае угол равен 308.2786 градусов. Если нужно только просмотреть координаты и угол, то можно использовать комбинацию `CTRL`+`SHIFT`+`1` и тогда появится окно с нужной информацией.

{% hint style="success" %}
Комбинации кнопок можно сменить на более удобные в настройках SB.
{% endhint %}

Обратите внимание, что угол в этом контексте является углом по оси "Z", то есть относительно высоты. В большинстве случаев этого будет достаточно. Однако стоит упомянуть, что есть ещё и углы по осям "X" и "Y" и получить их горячими клавишами уже нельзя. Можно только через скрипты или другими программами.

{% hint style="warning" %}
Координаты обычно являются вещественными числами, поэтому в скрипте они пишутся через точку!
{% endhint %}

Думаю, что общие сведения и навыки Вы получили.

### Как можно представить поиск координат?

Сначала идёт поиск по оси "Х". Если смотреть на карту, то слева-направо. Останавливается поиск тогда, когда найден игрок. Дальше идёт поиск по оси "Y". То есть идёт поиск снизу-вверх. Когда игрок найден, компилятор сообщает нас текущую позицию игрока на карте в виде координат.



Не забываем также и о отрицательных величинах! Координаты левого нижнего угла карты пишутся так: ( -2800.0, -2800.0 ), соответственно координаты правого верхнего угла карты - ( 2800.0, 2800.0 ).

Как видим, есть и отрицательные числа. Все координаты, которые по оси "X" находятся левее от центра будут идти в минус, причём чем далее от центра, тем больше число с минусом. По аналогии и по осям "Y" и "Z". Посмотрите на карту и представьте эту сетку и её координаты.

Но главная же наше цель урока - это вставка текущих позиций игрока в скрипт. Откроем наш санник и main.scm. Редактировать его мы сейчас не будет, по этому не сохраняйте наши эксперименты. Нажимаем в любое место скрипта, ставим курсор в очищенное место и запускаем игру. Далее найдите любое место в игре. Вот я, например, нашел такое:

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/00814873.png)

Дальше, сворачиваем игру ( не выходим ) клавишей WIN `в и санни билдере нажимаем комбинацию <kbd>CTRL`+SHIFT`+<kbd>C`. Возле курсора должны появится текущие координаты игрока.

![](../../\_pu/0/09504944.png)

Первое число - позиция игрока по оси "X", другая - позиция по оси "Y", и третья - "Z".

Хорошо, с координатами разобрались. Давайте в Санни билдер, с новой строки вставим угол поворота игрока. Выберем любое место для нашего эксперимента :)

![](https://github.com/wmysterio/scm-scripting-lessons/raw/resources/\_pu/0/36238161.png)

Далее сворачиваем игру, и в Sanny Builder нажимаем комбинацию клавиш CTRL`+<kbd>SHIFT`+E\`. Возле курсора появится число, которое покажет текущий угол игрока:

![](../../\_pu/0/07641083.png)

В нашем случаи угол равен 308.2786 градусов.

Вот! Вы научились вставлять в скрипт текущие координаты игрока и его угол. В скрипте эти координаты можно использовать в любых целях, например, для создания персонажей в полученых координатах.

Если вам нужно только просмотреть координаты и угол, то можно использовать комбинацию CTRL`+<kbd>SHIFT`+1\` и тогда появится окно с текущими координатами и углами.

На этом урок закончен, благодарю всех за внимание! =)|9191|1|0|56448064`png`600`600`400`400``\|00814873`png`640`400`400`250\`\`|09504944`png`375\`185

```
`\|36238161`png`640`400`400`250``\|07641083`png`325`142
```

\`||koordinaty\_orientacija\_na\_ulicakh\_gta\_san\_andreas|1498485984



Автор: **wmysterio**
