# 00029. Транспорт и команды, свойственны ему

Транспорт и команды, свойственны ему|Как и в предыдущем уроке, мы рассмотрим опкоды. Но на этот раз тема касается транспорта.|wmysterio|wmysterio||||Транспорт разделяется условно на 4 группы: машины ( в том числе байки и велики ), поезда, лодки, воздушные средства передвижения. Большинство опкодов можно применить ко всем видам транспорта. Рассмотрим их:

| Безусловные                                                                                                                                                                                                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| car.PutAt($Car, 10.0, -1400.0, 18.0)                                                                                                                                                                                                                |
| перемещает машину в заданные координаты                                                                                                                                                                                                             |
| car.Destroy($Car)                                                                                                                                                                                                                                   |
| уничтожить машину                                                                                                                                                                                                                                   |
| car.Health($CAR) = 500                                                                                                                                                                                                                              |
| устанавливает количество жизни машине ( если ниже 251 то машина начнёт гореть! )                                                                                                                                                                    |
| car.RemoveReferences($Car)                                                                                                                                                                                                                          |
| стирает все сведения о машине                                                                                                                                                                                                                       |
| 03C0: $Car = actor $PLAYER\_ACTOR car                                                                                                                                                                                                               |
| записывает в переменную машину, в которой сидит актёр                                                                                                                                                                                               |
| 02E3: $Speed = car $Car speed                                                                                                                                                                                                                       |
| записывает в переменную скорость с которой едет транспорт                                                                                                                                                                                           |
| 04BA: set\_car $Car speed\_instantly 20.0                                                                                                                                                                                                           |
| устанавливает машине скорость                                                                                                                                                                                                                       |
| Car.SetMaxSpeed($Car, 10.0)                                                                                                                                                                                                                         |
| устанавливает максимальную скорость машины, до которой она может разогнаться ( если за рулём машини СЖ, то опкод не работает )                                                                                                                      |
| 0294: set\_car $Car sprayable 1                                                                                                                                                                                                                     |
| машину можно перекрашивать ( если поставить 0 - то нельзя )                                                                                                                                                                                         |
| car.DoorStatus($Car) = 2                                                                                                                                                                                                                            |
| замыкает двери машины( если поставить 0 то двери можно будет открывать)                                                                                                                                                                             |
| 0229: set\_car $Car color\_to 11 0                                                                                                                                                                                                                  |
| устанавливает цвета машины ( см. [Цвета автомобилей](../../../dir/gta\_sa/cveta\_avtomobilej\_v\_gta\_san\_andreas/1-1-0-19/) ) Первая цифра: основной цвет, другая - вторичный цвет.                                                               |
| car.SetImmunities($Car,1,1,1,1,1)                                                                                                                                                                                                                   |
| устанавливает машине иммунитеты от взрывов, падения и т.п.                                                                                                                                                                                          |
| 0ABE: vehicle $Car engine\_on                                                                                                                                                                                                                       |
| включает мотор машины                                                                                                                                                                                                                               |
| 02D4: car $Car turn\_off\_engine                                                                                                                                                                                                                    |
| выключает мотор машины                                                                                                                                                                                                                              |
| 0A26: set\_radio\_to\_favorite\_station                                                                                                                                                                                                             |
| устанавливает радио на самую используемую радиостанцию                                                                                                                                                                                              |
| 041E: set\_radio\_station 0                                                                                                                                                                                                                         |
| устанавливает радио на определённую радиостанцию. Список радиостанций смотрите в нашей [базе данных](../../../dir/gta\_sa/id\_radio\_stancij/1-1-0-41/). Если вы используете служебный транспорт ( пожарную, скорую ), то опкод может не сработать. |

| Условные                                          |
| ------------------------------------------------- |
| 0495: car $Car burning                            |
| роверка: машина горит?                            |
| car.Defined($CAR)                                 |
| проверка: машина существует?                      |
| 02BF: car $Car sunk                               |
| проверка: машина упала в воду?                    |
| 01C1: car $Car stopped                            |
| проверка: машина остановилась?                    |
| 03C9: car $Car damaged                            |
| проверка: машина повреждена?                      |
| 01F3: car $Car airborne                           |
| проверка: машина в воздухе?                       |
| 0119: car $Car wrecked                            |
| проверка: машина уничтожена?                      |
| 051D: cars $Car1 and $Car2 collided               |
| проверка: машина1 столкнулась с машиной2?         |
| 01F4: car $Car flipped                            |
| проверка: машина перевернулась?                   |
| 03CE: car $Car stuck                              |
| проверка: машина застряла ( не может двигаться )? |

Команды, свойственны только машинам, великам и байкам:

| Безусловные                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                               |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------- |
| car.DriveTo($car, -6.0, 1350.0, 47.0)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                               |
| заставляет машину ехать в заданные координаты                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                               |
| car.ToggleTaxiLight($Car) = true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                               |
| включить значок ТАКСИ на машине ( если поставить false - то выключить значок )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                               |
| 067F: set\_car $Car headlights 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                               |
| включить фары в машине ( если поставить 0 - то выключить )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                               |
| 01EC: make\_car $Car very\_heavy 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                               |
| делает машину очень тяжелой ( как отключить этот параметр я не знаю )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                               |
| Car.SetToNormalDriver($Car)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                               |
| машине будет обычный водитель                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                               |
| Сar.SetToPsychoDriver($Car)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                               |
| в машине будет сумасшедший водитель                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                               |
| Car.SetDriverBehaviour($Car, Nowhere)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                               |
| <p>устанавливает тип езды машине. Вот все типы, известные мне:</p><table><thead><tr><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>0</td><td>никуда не ехать</td></tr><tr><td>1</td><td>следовать дороге</td></tr><tr><td>2</td><td>ездить за игроком</td></tr><tr><td>4</td><td>ездить за игроком</td></tr><tr><td>8</td><td>ехать напрямик, не обращая внимания на дорогу</td></tr></tbody></table>                                                                                                                                                                                     |                                               |
| Тип                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Описание                                      |
| 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | никуда не ехать                               |
| 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | следовать дороге                              |
| 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ездить за игроком                             |
| 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ездить за игроком                             |
| 8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ехать напрямик, не обращая внимания на дорогу |
| 07F8: car $Car1 follow\_vehicle $Car2 radius 27.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                               |
| заставляет машину1 следовать за машиной2 на растоянии 27.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                               |
| car.ToggleHydraulics($Car) = true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                               |
| устанавливает на машину гидравлику                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                               |
| 0657: car $Car open\_component 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                               |
| <p>открывает часть машины. Вот список известных мне частей:</p><table><thead><tr><th>Часть</th><th>Описание</th></tr></thead><tbody><tr><td>0</td><td>Капот.</td></tr><tr><td>1</td><td>Багажник.</td></tr><tr><td>2</td><td>Дверь водителя или левого переднего места.</td></tr><tr><td>3</td><td>Дверь правого переднего места.</td></tr><tr><td>4</td><td>Дверь заднего левого места.</td></tr><tr><td>5</td><td>Дверь заднего правого места.</td></tr></tbody></table>                                                                                                                          |                                               |
| Часть                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Описание                                      |
| 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Капот.                                        |
| 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Багажник.                                     |
| 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Дверь водителя или левого переднего места.    |
| 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Дверь правого переднего места.                |
| 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Дверь заднего левого места.                   |
| 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Дверь заднего правого места.                  |
| 00AE: set\_car $Car traffic\_behaviour\_to 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                               |
| машина будет игнорировать светофоры                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                               |
| Car.SetAnimation($Car, 9, 4000)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                               |
| <p>некая анимация для транспорта ( нужно, что бы в машине был водитель ).Здесь:<br>4000 - время за которое будет воспроизводится данная анимация<br>9 - номер анимации. Все известные мне на данный момент анимации перечислены в таблице ниже</p><table><thead><tr><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>3</td><td>едет задом</td></tr><tr><td>5</td><td>поворачивает колёса вправо</td></tr><tr><td>6</td><td>едет по кругу против часовой стрелки</td></tr><tr><td>8</td><td>едет по кругу по часовой стрелке</td></tr><tr><td>9</td><td>едет прямо</td></tr></tbody></table> |                                               |
| Тип                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Описание                                      |
| 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | едет задом                                    |
| 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | поворачивает колёса вправо                    |
| 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | едет по кругу против часовой стрелки          |
| 8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | едет по кругу по часовой стрелке              |
| 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | едет прямо                                    |

Команды, свойственны самолётам:

| Безусловные                                                                                                                                                              |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 04D2: set\_plane $PLANE fly\_autopilot\_around\_point 600.0 250.0 16.0 altitude\_between 0.0 and 0.0                                                                     |
| заставляет самолёт лететь в заданную точку ( последние 2 параметра не трогайте )                                                                                         |
| 070F: plane $PLANE fly\_direction 180.0 altitude\_between 200.0 and 200.0                                                                                                |
| заставляет самолёт лететь под определённым углом ( в нашем случаи под 180.0 градусом ), остальные параметры одинаковы и указывают высоту ( в данном случаи 200.0 )       |
| 084E: flying\_vehicle $PLANE use\_primary\_gun 1                                                                                                                         |
| использование ракет                                                                                                                                                      |
| 0841: flying\_vehicle $PLANE use\_secondary\_gun 1                                                                                                                       |
| использование пулемёта                                                                                                                                                   |
| 0724: flying\_vehicle $PLANE follow\_and\_attack\_player $PLAYER\_CHAR radius 40.0                                                                                       |
| самолёт будет летать около игрока в радиусе 40.0 и атаковать его ( учтите, что самолёт будет атаковать только СЖ, по этому не меняйте переменную $PLAYER\_CHAR в опкоде) |

Команды, применяемые к вертолётам:

| Безусловные                                                                       |
| --------------------------------------------------------------------------------- |
| 04A2: heli $HELI fly\_to 640.0 480.0 128.0 speed 60.0 70.0                        |
| заставляет вертолёт лететь в заданную точку со скоростью 60.0 и на высоте 70.0    |
| 084E: flying\_vehicle $Heli use\_primary\_gun 1                                   |
| использование вертолётом ракет                                                    |
| 0841: flying\_vehicle $Heli use\_secondary\_gun 1                                 |
| использование вертолётом пулемёта                                                 |
| 0724: flying\_vehicle $Heli follow\_and\_attack\_player $PLAYER\_CHAR radius 40.0 |
| тоже самое, что и опкод 0724, только с вертолётом ( заставляет атаковать СЖ )     |
| 0788: enable\_heli $Heli magnet 1                                                 |
| устанавливает на вертолёт магнит, если 0 то убирает магнит                        |
| 0789: set\_heli $Heli release\_stuff\_from\_magnet                                |
| забирает магнит с вертолёта                                                       |

Команды, применяемые к лодкам:

| Безусловные                                   |
| --------------------------------------------- |
| 02D3: boat $Boat drive\_to 10000.0 -100.0 0.0 |
| заставляет лодку плыть в заданные координаты  |
| 02DB: set\_boat $Boat speed\_to 50.0          |
| устанавливает лодке нужную скорость           |

Команды для поездов:

| Безусловные                                                                                                                                                                                                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 06D8: $Train = create\_train\_at 2285.1523 -1257.4998 23.0 type 15 direction 1                                                                                                                                                                                                               |
| создаёт поезд в нужных координатах. Здесь 15 - тип поезда ( в основном тип влияет на модели поезда и вагона а так же на количество самих вагонов ), 1 - указывается направление поезда. Координаты задавайте такие, что бы они были ближе к рельсам, иначе поезд создастся чёрт знает где :) |
| 06DD: set\_train $Train speed 23.0                                                                                                                                                                                                                                                           |
| устанавливает скорость поезду                                                                                                                                                                                                                                                                |
| 06DC: set\_train $Train acc 7.0                                                                                                                                                                                                                                                              |
| устанавливает ускорение для поезда                                                                                                                                                                                                                                                           |
| 06D7: toggle\_train\_traffic 1                                                                                                                                                                                                                                                               |
| параметр влияет на появление поездов: 1 - будут появляться как обычно, 0 - не будут появляться вообще                                                                                                                                                                                        |
| 09CF: set\_train $Train flag 0                                                                                                                                                                                                                                                               |
| задаёт поезду флаги. Что именно задаёт этот опкод я не знаю и не использую его                                                                                                                                                                                                               |

К поездам мы ещё вернёмся и детально изучим их. Сейчас я выложил только опкоды.|2988|1|0||transport\_i\_komandy\_svojstvenny\_im|1498658527
