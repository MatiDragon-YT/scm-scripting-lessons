# Типы скриптов. Опкоды.

В предыдущей статье мы установили основной редактор для написания SCM-скриптов. Сейчас предлагаю ознакомится с базовыми терминами, которые Вы встретите в любом случае. Начнём с понятия «Опкод». Под этим словом подразумивается некая команда, которую игра будет выполнять. За каждой командой закреплён персональный ID (уникальный идентификатор) и набор параметров, которые могут быть необходимы для правильное выполнения команды. Общая структура опкода в Sanny Builder представлена следующим образом:

```
YXXX: 0 1 2
```

Где `YXXX` — это число в шестнадцатеричной системе счисления[^1]. При этом `Y` может быть только числом `0` или `8`[^2]. А `0 1 2` — это параметры опкода. Количество параметров напрямую зависит от опкода. Их может быть несколько, они могут отсутствовать или не иметь фиксированного количества параметров.

Первый опкод, который важно рассмотреть, будет `0001: 1000`. Суть команды заключается в том, что он приостанавливает выполнение текущего скрипта на указанное время и передаёт управление другому скрипту. Параметр `1000` указывает минимальное количество времени, который скрипт будет в состоянии ожидания[^3].

Думаю, Вы заметили, что команда не имеет какого-либо описания. Я это сделал специально, так как не всё в строке опкода является параметром. Дело в том, что между параметрами обычно есть описание работы опкода. Без этих описаний читать скрипт было бы невероятно сложно. Для опкода `0001` описание обычно такое[^4]:

```
0001: wait 1000 ms
```

Я веду всё это к тому, что описание опкода никак не влияет на компиляцию[^5] и по сути является полезным мусором, который Sanny Builder игнорирует при сборке скрипта. Самое важное здесь — количество, тип и порядок параметров.

Если делать большой проект, то мы можем заметить, что некоторые команды встречаются очень часто. Настолько, что использование опкода становится неудобным. Для таких опкодов придумана система ключевых слов. Идея заключается в том, что компилятор Sanny Builder может самостоятельно расспознать опкод без указания его ID. При этом ключевым словом будет является его описание а параметры указываются после него:

```
wait 1000
```

Ключевые слова очень полезны, когда опкод имеет до 2-х параметров. Если их становится больше, то понять что за что отвечает весьма проблематично, так как в ключевых словах нет описания параметров[^6]. Значения и типы нужно заучивать. Этим пренебрегают некоторые плагины, которые добавляют ключевые слова с кучей параметров без явной необходимости. При открытии какого-либо файла, Sanny Builder вместо опкода будет использовать ключевые слова, как приоритет[^7].

Кроме ключевых слов, опкоды могут быть представлены другими сущностями, но о них будет отдельная статья. Пока это не так важно.






[^1]: Детали о [Шестнадцатеричной системе счисления](https://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D1%81%D1%82%D0%BD%D0%B0%D0%B4%D1%86%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D1%87%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F).
[^2]: Есть причина, почему нужны только 0 или 8. Будет отдельная статья для этого.
[^3]: Минимальное время ожидания должно быть 0 или больше!
[^4]: Описание опкодов может изменяться в зависимости от версии Sanny Builder и CLEO-плагинов.
[^5]: О компиляции и всего остального будут отдельные статьи. Пока над этим не нужно заморачиваться.
[^6]: Требуется подтверждение.
[^7]: Процесс можно регулировать в настройках.
